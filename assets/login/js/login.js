$.fn.serializeObject=function(){var o={},t=this.serializeArray();return $.each(t,function(){o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},function(){function o(o){o.preventDefault(),s.slideToggle()}function t(o){o.preventDefault(),""===a.val()?(c.show(),g.html("<p style='color: red;'>Gotta put an email in there, hoss.</p>")):(l.attr("disabled",!0),AJAXUtil.post(_fullURL("/forgotpassword"),{email:a.val()},e,n))}function e(o){i(o.message)}function n(o){i(o.errors.message)}function i(o){l.attr("disabled",!1),g.html(o),c.show()}var r=$("#forgot-password-link"),s=$("#forgot-password-form"),a=$("#forgot-email"),l=$("#forgot-email-btn"),c=$("#sent-message"),g=$("#sent-message-message");r.on("click",o),s.on("submit",t),"#forgot-password"===document.location.hash&&this.toggleForgotPassword()}(),function(){function o(o){o.preventDefault(),parent.postMessage({type:"redirect-to-login"},"*")}var t=$("#login-with-github"),e=$("#login-with-twitter"),n=$("#login-type");"modal"===n.val()&&(t.on("click",o),e.on("click",o))}(),function(){function o(o){o&&o.preventDefault(),$("#log-in-button").addClass("in-action"),AJAXUtil.post("/login/login",$("#login-login-form").serializeObject(),t,n)}function t(o){document.location=o.redirect_to}function e(o){var t=$(o.target);t.attr("disabled","disabled"),t.unbind()._on("click",_.noop),t.find("span").text("Logging in with GitHub...")}function n(o){i(),r(),s(o),a(o),l(o)}function i(){$("#log-in-button").removeClass("in-action")}function r(){$(".error-message").remove(),$(".error").removeClass("error"),$(".login-error-message").remove()}function s(o){var t=$(".recaptcha-field").length>0;t&&window.resetRecaptcha(),o.errors.recaptcha&&(t||window.location.reload())}function a(o){for(var t in o.errors){var e=o.errors[t][0],n="<div class='error-message'>"+e+"</div>";$("#login-"+t).append(n).addClass("error")}}function l(o){"password"in o.errors&&$("#login-password-field_").focus().select()}$("#login-login-form").on("submit",o),$("#login-with-github").on("click",e),window.submitFormAfterRecaptcha=o}();